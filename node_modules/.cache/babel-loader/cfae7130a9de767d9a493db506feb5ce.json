{"ast":null,"code":"import _classCallCheck from \"/Users/deshbhardwaj/Desktop/lunch-venue/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deshbhardwaj/Desktop/lunch-venue/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/deshbhardwaj/Desktop/lunch-venue/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/deshbhardwaj/Desktop/lunch-venue/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/deshbhardwaj/Desktop/lunch-venue/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/deshbhardwaj/Desktop/lunch-venue/src/App.js\";\nimport React, { Component } from 'react';\nimport { Venue } from './venue';\nimport { Search } from './search';\nimport 'whatwg-fetch';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      venues: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(query) {\n      this.getVenues(lunch);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getVenues('Pubs');\n    }\n  }, {\n    key: \"getLocation\",\n    value: function getLocation(callback) {\n      navigator.geolocation.getCurrentPosition(function (location) {\n        callback(location.coords.latitude + ',' + location.coords.longitude);\n      });\n    }\n  }, {\n    key: \"getVenues\",\n    value: function getVenues(query) {\n      var setVenueState = this.setState.bind(this);\n      var venuesEndpoint = 'https://api.foursquare.com/v2/venues/explore?';\n      this.getLocation(function (latlong) {\n        var params = {\n          client_id: '13J0BEBZY2UFW2IDD5YAESWL3OCDU0QZS1CXMF0NBVKCZENC',\n          client_secret: 'Y0CPZFJG5ORLABZ3GQOHJ1WOFFPCGDKJTFLRCODFUW2D4GB2',\n          limit: 3,\n          query: lunch,\n          v: '20170801',\n          ll: latlong\n        };\n        fetch(venuesEndpoint + new URLSearchParams(params), {\n          method: 'GET'\n        }).then(function (response) {\n          return response.json();\n        }).then(function (response) {\n          setVenueState({\n            venues: response.response.groups[0].items\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var venueList = this.state.venues.map(function (item, i) {\n        return React.createElement(Venue, {\n          key: i,\n          name: item.venue.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        });\n      } //Create a new \"name attribute\"\n      );\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Lunch Places\"), React.createElement(Search, {\n        onSubmit: function onSubmit(value) {\n          return _this2.handleSubmit(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, venueList));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/deshbhardwaj/Desktop/lunch-venue/src/App.js"],"names":["React","Component","Venue","Search","App","state","venues","query","getVenues","lunch","callback","navigator","geolocation","getCurrentPosition","location","coords","latitude","longitude","setVenueState","setState","bind","venuesEndpoint","getLocation","latlong","params","client_id","client_secret","limit","v","ll","fetch","URLSearchParams","method","then","response","json","groups","items","venueList","map","item","i","venue","name","value","handleSubmit"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,KAAR,QAAqB,SAArB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAO,cAAP;;IAEMC,G;;;;;AAEJ,iBAAc;AAAA;;AAAA;;AAEZ;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAJY;AAQb;;;;iCAEYC,K,EAAO;AAClB,WAAKC,SAAL,CAAeC,KAAf;AACD;;;wCAEmB;AAClB,WAAKD,SAAL,CAAe,MAAf;AACD;;;gCAEWE,Q,EAAU;AACpBC,MAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAASC,QAAT,EAAmB;AAC1DJ,QAAAA,QAAQ,CAACI,QAAQ,CAACC,MAAT,CAAgBC,QAAhB,GAA2B,GAA3B,GAAiCF,QAAQ,CAACC,MAAT,CAAgBE,SAAlD,CAAR;AACD,OAFD;AAGD;;;8BAESV,K,EAAO;AAEf,UAAIW,aAAa,GAAG,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAApB;AAEA,UAAMC,cAAc,GAAG,+CAAvB;AAEA,WAAKC,WAAL,CAAiB,UAAUC,OAAV,EAAmB;AAElC,YAAMC,MAAM,GAAG;AACbC,UAAAA,SAAS,EAAE,kDADE;AAEbC,UAAAA,aAAa,EAAE,kDAFF;AAGbC,UAAAA,KAAK,EAAE,CAHM;AAIbpB,UAAAA,KAAK,EAAEE,KAJM;AAKbmB,UAAAA,CAAC,EAAE,UALU;AAMbC,UAAAA,EAAE,EAAEN;AANS,SAAf;AASAO,QAAAA,KAAK,CAACT,cAAc,GAAG,IAAIU,eAAJ,CAAoBP,MAApB,CAAlB,EAA+C;AAClDQ,UAAAA,MAAM,EAAE;AAD0C,SAA/C,CAAL,CAEGC,IAFH,CAEQ,UAAAC,QAAQ;AAAA,iBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,SAFhB,EAEqCF,IAFrC,CAE0C,UAAAC,QAAQ,EAAI;AACpDhB,UAAAA,aAAa,CAAC;AAACZ,YAAAA,MAAM,EAAE4B,QAAQ,CAACA,QAAT,CAAkBE,MAAlB,CAAyB,CAAzB,EAA4BC;AAArC,WAAD,CAAb;AACD,SAJD;AAMD,OAjBD;AAmBD;;;6BAEQ;AAAA;;AAEP,UAAIC,SAAS,GAAG,KAAKjC,KAAL,CAAWC,MAAX,CAAkBiC,GAAlB,CAAsB,UAACC,IAAD,EAAOC,CAAP;AAAA,eACpC,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAEA,CAAZ;AAAe,UAAA,IAAI,EAAED,IAAI,CAACE,KAAL,CAAWC,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADoC;AAAA,OAAtB,CAC0B;AAD1B,OAAhB;AAIA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,kBAACC,KAAD;AAAA,iBAAS,MAAI,CAACC,YAAL,CAAkBD,KAAlB,CAAT;AAAA,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGN,SADH,CAHF,CADF;AASD;;;;EApEerC,S;;AAwElB,eAAeG,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport {Venue } from './venue';\nimport { Search } from './search';\nimport 'whatwg-fetch';\n\nclass App extends Component {\n\n  constructor() {\n\n    super();\n\n    this.state = {\n      venues: []\n    };\n\n  }\n\n  handleSubmit(query) {\n    this.getVenues(lunch);\n  }\n\n  componentDidMount() {\n    this.getVenues('Pubs');\n  }\n\n  getLocation(callback) {\n    navigator.geolocation.getCurrentPosition(function(location) {\n      callback(location.coords.latitude + ',' + location.coords.longitude)\n    })\n  }\n\n  getVenues(query) {\n\n    let setVenueState = this.setState.bind(this);\n\n    const venuesEndpoint = 'https://api.foursquare.com/v2/venues/explore?';\n\n    this.getLocation(function (latlong) {\n\n      const params = {\n        client_id: '13J0BEBZY2UFW2IDD5YAESWL3OCDU0QZS1CXMF0NBVKCZENC',\n        client_secret: 'Y0CPZFJG5ORLABZ3GQOHJ1WOFFPCGDKJTFLRCODFUW2D4GB2',\n        limit: 3,\n        query: lunch,\n        v: '20170801',\n        ll: latlong\n      };\n\n      fetch(venuesEndpoint + new URLSearchParams(params), {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        setVenueState({venues: response.response.groups[0].items});\n      });\n\n    });\n\n  }\n\n  render() {\n\n    var venueList = this.state.venues.map((item, i) =>\n      <Venue key={i} name={item.venue.name}/> //Create a new \"name attribute\"\n    );\n\n    return (\n      <div>\n        <header>Lunch Places</header>\n        <Search onSubmit={(value)=>this.handleSubmit(value)}/>\n        <ul>\n          {venueList}\n        </ul>\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}